<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="../static/css/bootstrap.min.css">

    <script src="../static/js/jquery.js" charset="UTF-8"></script>
    <script src="../static/js/bootstrap.min.js" charset="UTF-8"></script>
    <title>çŸ¥æˆ‘æ‰€æœ</title>
    <script>
        $(function () {
            var old_ele = "";
            $('#sub').on('click', function () {
                var word = $('#inputGroupSuccess2').val();
                var path = $('#exampleInputAmount').val();
                var obj = $('input[type=checkbox]');
                var add_type = $('#addType').val();
                var check_val = "";
                for (k in obj) {
                    if (obj[k].checked) {
                        check_val += obj[k].value + " ";
                    }
                }
                check_val += add_type;
                if (word.trim() === "" || path.trim() === "") {
                    alert("å…³é”®è¯å’Œè·¯å¾„ä¸èƒ½ä¸ºç©º");
                    return;
                }
                $('#sub').attr("disabled", true).text("æœç´¢ä¸­..");  // æŒ‰é’®ä¸å¯ç”¨
                var url = "/search";
                var datas = {
                    "path": path,
                    "array": word,
                    "type": check_val
                };
                $.post(url, datas, function (data) {
                    var ele = "<a href=\"" + data + "\" target=\"_blank\">" + "Search-Result: " + data.split('-')[1] + "</a></br>";
                    old_ele += ele;
                    $('#hre').html(old_ele);  // èµ‹å€¼
                    $('#sub').attr("disabled", false).text("æœç´¢å¼•æ“");  // æŒ‰é’®ä¸å¯ç”¨
                }).fail(function () {
                    alert("æœç´¢å¼‚å¸¸ä¸­æ–­, è¯·ç¼©å°æœç´¢è·¯å¾„èŒƒå›´åé‡è¯•!");
                    $('#sub').attr("disabled", false).text("æœç´¢å¼•æ“");
                });
            });
        });
    </script>
</head>
<body style="background-color:#E6E6FA;">
<div class="container text-center" id="margin" style="margin-top: 15px;">
    <form class="form-horizontal">
        <!-- å…³é”®è¯æœç´¢ S -->
        <div class="form-group has-success has-feedback" style="padding-top: 8%;">
            <h2 style="font-family: å¹¼åœ†;margin-bottom: 2%;">çŸ¥æˆ‘æ‰€æœ</h2>
            <div class="col-sm-9">
                <div class="input-group" style="padding-left: 29%;">
                    <span class="input-group-addon">ğŸ”</span>
                    <input type="text" class="form-control" id="inputGroupSuccess2" placeholder="å…³é”®è¯æœç´¢ < ç©ºæ ¼åˆ†éš” >">
                </div>
                <span class="glyphicon glyphicon-ok form-control-feedback" aria-hidden="true"></span>
            </div>
            <button type="button" class=" col-sm-3 btn btn-primary" style="width: 10%;" id="sub">æœç´¢å¼•æ“</button>
        </div>
        <!-- å…³é”®è¯æœç´¢ E -->
        <!-- ç±»å‹é€‰æ‹© S -->
        <div class="col-sm-7" style="margin-left: 17%;border-radius:15px;">
            <label class="checkbox-inline">
                <input type="checkbox" id="inline1" value="txt" checked> .txt
            </label>
            <label class="checkbox-inline">
                <input type="checkbox" id="inline2" value="java" checked> .java
            </label>
            <label class="checkbox-inline">
                <input type="checkbox" id="inline3" value="js" checked> .js
            </label>
            <label class="checkbox-inline">
                <input type="checkbox" id="inline4" value="xls"> .xls
            </label>
            <label class="checkbox-inline">
                <input type="checkbox" id="inline5" value="xlsx"> .xlsx
            </label>
            <label class="checkbox-inline">
                <input type="checkbox" id="inline6" value="doc"> .doc
            </label>
            <label class="checkbox-inline">
                <input type="checkbox" id="inline7" value="docx"> .docx
            </label>
            <label class="checkbox-inline">
                <input type="checkbox" id="inline8" value="html"> .html
            </label>
            <label class="checkbox-inline">
                <input type="checkbox" id="inline9" value="htm"> .htm
            </label>
            <label class="checkbox-inline">
                <input type="checkbox" id="inline10" value="xml"> .xml
            </label>
            <label class="checkbox-inline">
                <input type="checkbox" id="inline11" value="yml"> .yml
            </label>
            <label class="checkbox-inline">
                <input type="checkbox" id="inline12" value="pom"> .pom
            </label>
            <label class="checkbox-inline">
                <input type="checkbox" id="inline13" value="sql"> .sql
            </label>
            <label class="checkbox-inline">
                <input type="checkbox" id="inline14" value="json"> .json
            </label>
            <label class="checkbox-inline">
                <input type="checkbox" id="inline16" value="css"> .css
            </label>
            <label class="checkbox-inline">
                <input type="text" class="form-control" id="addType" placeholder="æ‰‹åŠ¨æ·»åŠ  < ä¾‹: .java .js >">
            </label>
        </div>
        <!-- ç±»å‹é€‰æ‹© E -->
        <!-- æŒ‡å®šè·¯å¾„ S -->
        <div class="col-sm-5" style="margin-top: 2%; margin-left: 28%;">
            <div class="form-group">
                <label class="sr-only" for="exampleInputAmount">Amount (in dollars)</label>
                <div class="input-group">
                    <div class="input-group-addon">çŸ¥æˆ‘æ‰€æœ</div>
                    <input type="text" class="form-control" id="exampleInputAmount" placeholder="æœç´¢è·¯å¾„">
                </div>
            </div>
        </div>
        <!-- æŒ‡å®šè·¯å¾„ E -->
    </form>
    <!-- æ–‡ä»¶ä¸‹è½½ S -->
    <div class="col-sm-12">
        <hr style="width: 70%; background-color: black;height: 1px;">
        <h4 style="font-family: å¹¼åœ†;margin-bottom: 2%;">çŸ¥æˆ‘æ‰€æœ - æœç´¢ç»“æœ</h4>
        <div class="col-sm-12" id="hre"></div>
    </div>
    <!-- æ–‡ä»¶ä¸‹è½½ E -->
</div>
</body>
</html>